DATE: 2025-12-25T01:52:36Z
TMPROOT: /var/folders/0g/s3q9vmxj391ddt8rkkv75ly00000gn/T/tmp.ujX2d9A451

== EXPERIMENT: shared index pollution when context ref tree != working branch tree ==
-- record trunk commit (WORKTREE_TARGET) --
WORKTREE_COMMIT: 37d1414b74038ef39960d9d988fa9b21994eaa8a
-- create context commit that deletes main.txt --
CTX_COMMIT: c211ac081b0a3f95d4f5020b6d5fea40e04ef1e3
-- set refs/hestai/main -> CTX_COMMIT; reset trunk back to WORKTREE_COMMIT --
-- status BEFORE checkout --
-- run: git --work-tree=.hestai checkout refs/hestai/main -- . (shared index) --
-- status AFTER checkout (expected: main.txt deletion staged, etc.) --
MM ctx/state.txt
?? .hestai/

-- recovery: reset --hard to restore index to branch HEAD --
?? .hestai/

-- mitigation: use isolated index file --
status AFTER isolated-index checkout:
?? .hestai.index
?? .hestai/

AUTHORITY_MARKER::This proves operation is from legitimate critical-engineer subagent
